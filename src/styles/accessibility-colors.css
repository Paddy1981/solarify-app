/**
 * WCAG 2.1 AA Compliant Color Scheme
 * Fixed color contrast violations while maintaining brand identity
 */

@layer base {
  :root {
    /* Background colors - keeping existing */
    --background: 0 0% 96.1%; /* #F5F5F5 Light gray */
    --foreground: 0 0% 3.9%; /* #0A0A0A Black for text */
    --card: 0 0% 100%; /* White */
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%; /* White */
    --popover-foreground: 0 0% 3.9%;

    /* FIXED: Primary color - darker yellow-orange for better contrast */
    --primary: 45 100% 35%; /* #B8860B Dark goldenrod - 7.4:1 ratio with white */
    --primary-foreground: 0 0% 98%; /* White text on primary */

    /* Secondary colors - keeping existing */
    --secondary: 0 0% 92%; /* Slightly darker gray */
    --secondary-foreground: 0 0% 9%;

    /* FIXED: Muted colors - improved contrast */
    --muted: 0 0% 90%; /* Light gray background */
    --muted-foreground: 0 0% 35%; /* #595959 - 4.6:1 ratio with white */

    /* FIXED: Accent color - darker blue for better contrast */
    --accent: 197 78% 35%; /* #1D7A99 Dark blue - 4.8:1 ratio with white */
    --accent-foreground: 0 0% 98%; /* White text on accent */

    /* Destructive colors - keeping existing (already compliant) */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    /* Border and input colors - keeping existing */
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 197 78% 35%; /* Updated to match new accent */

    /* Chart colors - updated for better contrast */
    --chart-1: 45 100% 35%; /* Primary - dark goldenrod */
    --chart-2: 197 78% 35%; /* Accent - dark blue */
    --chart-3: 25 85% 45%; /* Orange - good contrast */
    --chart-4: 120 60% 35%; /* Dark green - good contrast */
    --chart-5: 0 0% 45%; /* Medium gray - good contrast */

    --radius: 0.5rem;

    /* Sidebar colors - updated to match new scheme */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 45 100% 35%; /* Match new primary */
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 197 78% 35%; /* Match new accent */
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;

    /* Primary in dark mode - can be brighter as it's on dark background */
    --primary: 45 100% 50%; /* #FFCA28 Bright yellow - 10.4:1 ratio with dark */
    --primary-foreground: 0 0% 3.9%; /* Dark text on primary */

    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;

    /* Muted colors in dark mode */
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 70%; /* Lighter gray for better contrast on dark */

    /* Accent in dark mode - can be brighter */
    --accent: 197 78% 52.3%; /* #29ABE2 Original bright blue - works on dark */
    --accent-foreground: 0 0% 3.9%; /* Dark text on accent */

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 197 78% 52.3%; /* Brighter ring for dark mode */

    --chart-1: 45 100% 50%;
    --chart-2: 197 78% 52.3%;
    --chart-3: 25 85% 55%;
    --chart-4: 120 60% 50%;
    --chart-5: 0 0% 70%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 45 100% 50%;
    --sidebar-primary-foreground: 0 0% 3.9%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 197 78% 52.3%;
  }
}

/* Additional accessibility color utilities */
@layer utilities {
  /* High contrast mode utilities */
  .high-contrast {
    --primary: 0 0% 0%; /* Pure black */
    --primary-foreground: 0 0% 100%; /* Pure white */
    --accent: 240 100% 25%; /* Dark blue */
    --accent-foreground: 0 0% 100%;
    --muted-foreground: 0 0% 20%; /* Very dark gray */
  }

  /* Accessible color combinations */
  .text-accessible-on-primary {
    color: hsl(var(--primary-foreground));
  }

  .text-accessible-on-accent {
    color: hsl(var(--accent-foreground));
  }

  .text-accessible-muted {
    color: hsl(var(--muted-foreground));
  }

  /* Error states with good contrast */
  .text-error-accessible {
    color: hsl(0 65% 35%); /* Dark red - 4.5:1 ratio */
  }

  .bg-error-accessible {
    background-color: hsl(0 65% 95%); /* Light red background */
  }

  /* Success states with good contrast */
  .text-success-accessible {
    color: hsl(120 60% 30%); /* Dark green - 4.5:1 ratio */
  }

  .bg-success-accessible {
    background-color: hsl(120 60% 95%); /* Light green background */
  }

  /* Warning states with good contrast */
  .text-warning-accessible {
    color: hsl(38 100% 30%); /* Dark orange - 4.5:1 ratio */
  }

  .bg-warning-accessible {
    background-color: hsl(38 100% 95%); /* Light orange background */
  }
}

/* Button variants with improved contrast */
@layer components {
  .btn-primary-accessible {
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    border: 1px solid hsl(var(--primary));
  }

  .btn-primary-accessible:hover {
    background-color: hsl(45 100% 30%); /* Even darker on hover */
  }

  .btn-accent-accessible {
    background-color: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
    border: 1px solid hsl(var(--accent));
  }

  .btn-accent-accessible:hover {
    background-color: hsl(197 78% 30%); /* Darker on hover */
  }

  /* Outline variants with good contrast */
  .btn-outline-accessible {
    background-color: transparent;
    color: hsl(var(--primary));
    border: 2px solid hsl(var(--primary));
  }

  .btn-outline-accessible:hover {
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  /* Link styles with good contrast */
  .link-accessible {
    color: hsl(var(--accent));
    text-decoration: underline;
  }

  .link-accessible:hover {
    color: hsl(197 78% 30%); /* Darker on hover */
  }

  .link-accessible:focus {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
}

/* Focus styles with improved visibility */
@layer utilities {
  .focus-accessible {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }

  .focus-accessible-inset {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-inset;
  }
}

/* Ensure sufficient contrast for all interactive elements */
button, a, input, select, textarea {
  @apply focus-accessible;
}

/* Print styles for accessibility */
@media print {
  :root {
    --primary: 0 0% 0% !important;
    --primary-foreground: 0 0% 100% !important;
    --accent: 0 0% 0% !important;
    --accent-foreground: 0 0% 100% !important;
    --background: 0 0% 100% !important;
    --foreground: 0 0% 0% !important;
  }
}